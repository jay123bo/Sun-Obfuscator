<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sun Obfuscator v1</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap');
*{box-sizing:border-box}
body{
  margin:0;
  background:#080808;
  color:#eaeaea;
  font-family:monospace;
}
header{
  padding:50px 20px;
  text-align:center;
  border-bottom:2px solid #ff8c00;
}
h1{
  font-family:'Orbitron',sans-serif;
  font-size:3.5rem;
  background:linear-gradient(45deg,#ffa500,#ff6b00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.version{
  color:#ffa500;
  margin-top:10px;
  letter-spacing:3px;
}
.container{
  max-width:1300px;
  margin:auto;
  padding:40px;
}
.box{
  background:#141414;
  border:2px solid #ff8c00;
  border-radius:8px;
  margin-bottom:35px;
}
.box h2{
  background:#ff8c00;
  color:#000;
  padding:14px;
  font-size:1.1rem;
  letter-spacing:2px;
}
.box .content{padding:20px}
textarea{
  width:100%;
  min-height:260px;
  background:#0b0b0b;
  border:2px solid #333;
  color:#00ff66;
  padding:14px;
  font-family:monospace;
}
button{
  margin-top:20px;
  padding:15px 40px;
  font-size:1.05rem;
  font-weight:bold;
  background:linear-gradient(135deg,#ff8c00,#ff6b00);
  border:none;
  border-radius:6px;
  cursor:pointer;
}
footer{
  text-align:center;
  color:#555;
  margin:50px 0;
}
</style>
</head>
<body>

<header>
  <h1>SUN OBFUSCATOR</h1>
  <div class="version">v1 · VM · ENCRYPTED BYTECODE · MUTATION</div>
</header>

<div class="container">

<div class="box">
<h2>INPUT LUA (v1 subset)</h2>
<div class="content">
<textarea id="input">print("Hello from Sun v1")</textarea>
</div>
</div>

<div class="box">
<h2>BUILD</h2>
<div class="content">
<button onclick="obfuscate()">OBFUSCATE</button>
</div>
</div>

<div class="box">
<h2>OUTPUT</h2>
<div class="content">
<textarea id="output" readonly></textarea>
</div>
</div>

</div>

<footer>Sun Obfuscator v1 © 2026</footer>

<script>
// ================= UTIL =================
function rnd(min,max){return Math.floor(Math.random()*(max-min))+min}
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1))
    ;[a[i],a[j]]=[a[j],a[i]]
  }
}

// ================= OBFUSCATOR =================
function obfuscate(){
  const src=document.getElementById("input").value.trim()
  if(!src) return alert("No input")

  const m=src.match(/print\s*\(\s*["'](.+)["']\s*\)/)
  if(!m) return alert("v1 supports only: print(\"text\")")

  const text=m[1]

  // mutation
  const KEY=rnd(50,200)

  let OPS=["LOADK","PRINT"]
  shuffle(OPS)

  const OP={}
  OPS.forEach((o,i)=>OP[o]=i)

  // constants (encrypted chars)
  const CONST=[
    [...text].map(c=>c.charCodeAt(0)^KEY)
  ]

  // bytecode
  const BC=[
    [OP.LOADK^KEY,0^KEY,0^KEY],
    [OP.PRINT^KEY,0^KEY]
  ]

  const out=`-- Sun Obfuscator v1
do
  debug=nil

  local K=${KEY}
  local function d(v)return v~K end

  local C=${JSON.stringify(CONST)}
  local BC=${JSON.stringify(BC)}
  local OP=${JSON.stringify(OP)}

  local R={}
  local pc=1

  local function getConst(i)
    local t=C[i+1]
    local s=""
    for j=1,#t do
      s=s..string.char(d(t[j]))
    end
    return s
  end

  while pc<=#BC do
    local I=BC[pc]
    local op=d(I[1])

    if op==OP.LOADK then
      R[d(I[2])]=getConst(d(I[3]))

    elseif op==OP.PRINT then
      print(R[d(I[2])])
    end

    pc=pc+1
  end
end`

  document.getElementById("output").value=out
}
</script>

</body>
</html>
